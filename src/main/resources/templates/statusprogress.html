
<!doctype html>
<html lang="en">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link th:rel="stylesheet" th:href="@{/css/bootstrap.min.css}"
	crossorigin="anonymous" />
<link th:rel="stylesheet" th:href="@{/css/style1.css}"
	crossorigin="anonymous" />
<title>Karnataka State co-operative Federation Ltd.</title>
<link rel="icon" th:href="@{img/logo1.jpg}" type="image/x-icon">
</head>

<body>

	<div class="container-fluid">
		<!--header and Nav bar here-->
		<div id="headerId"></div>
		<div class="row">
			<!--Left panel-->
			<div class="col-md-2 custLeftDivMD">
				<fieldset class="border">
					<legend class='text-left'>Downloads</legend>
					<div id="leftId"></div>
				</fieldset>
			</div>

			<!-- Start of center-->

			<div id="centerContent" class="col-md-8 custCentDivMD overflow-auto">

				<div class="card text-center">
					<div class="card-header">
						<ul class="timeline" id="timeline">
							<li class="li complete" id="form_filling">
								<div class="timestamp">
									<p>Form Filling</p>
								</div>
								<div class="status">
									<span id="stage1">Success</span>
								</div>
							</li>


							<li class="li " id="pay1">
								<div class="timestamp">
									<p>Payment 1</p>
								</div>
								<div class="status">
									<span id="stage2">Pending</span>
								</div>
							</li>

							<li class="li inactive " id="approval">
								<div class="timestamp">
									<p>From Approval</p>
								</div>
								<div class="status">
									<span id="stage3">Pending</span>
								</div>
							</li>

							<li class="li inactive" id="pay2">
								<div class="timestamp">
									<p>Payment 2</p>

								</div>
								<div class="status">
									<span id="stage4">Pending</span>
								</div>
							</li>

						</ul>
					</div>

					<div class="card-body">
						<div id="content1">

							<label class="contentLabel">Application Number: <span th:text ="${applicantNo}"></label>
							<button type="button" id="payment1" class="btn btn-info" onclick ="triggerPayment1()">Make Payment 1</button>

						</div>

						<div id="content2">
							<label class="contentLabel">Wait for verification process</label>
						</div>

						<div id="contentRej">
							<label class="contentLabel">Rejected</label>
							<!--<button id="verification" class="btn btn-info">Proceed</button>-->
							<br>
							<p>Reason for Reject</p>
						</div>

						<div id="content3">
							<label class="contentLabel">Application Number : <span th:text ="${applicantNo}"></label>
							<button type="button" id="payment2" class="btn btn-info" onclick ="triggerPayment2()" >Make Payment2
							</button>
						</div>
						<div id="content4">
                  				<label class="contentLabel">Application Number : <span th:text ="${applicantNo}"></label>
                		</div>
					</div>
				</div>
			</div>
			<div class="col-md-2 custRightDivMD">
				<fieldset class="border">
					<legend class='text-left'>Help Line</legend>
					<div id="rightId"></div>
				</fieldset>
			</div>
		</div>
		<!-- footer here-->
		<div id="footerId"></div>

	</div>
	
	<script th:src="@{/js/jquery-3.5.1.min.js}" crossorigin="anonymous"></script>
	<script th:src="@{/js/popper.min.js}" crossorigin="anonymous"></script>
	<script th:src="@{/js/bootstrap.min.js}" crossorigin="anonymous"></script>
	<script th:src="@{/js/input_validation.js}" crossorigin="anonymous"></script>
	<script th:src="@{/js/status_validation.js}" crossorigin="anonymous"></script>
	<script th:src="@{/js/supporters.js}" crossorigin="anonymous"></script>
	<script th:src="@{/js/validation.js}" crossorigin="anonymous"></script>
	<script th:inline="javascript">
/*<![CDATA[*/
	function triggerPayment1() {
		 window.location.href =  "/makeFirstPayment?applicationNumber="+[[${applicantNo}]];
	} 
	function triggerPayment2() {
		 window.location.href =  "/makeSecondPayment?applicationNumber="+[[${applicantNo}]];
	} 
	
	function initialDisable() {
		let status=[[${status}]]
		if(status == "I"){
			payment1complete();
		}else if(status == "A")
		{
			payment1complete();
			acceptcomplete();
		}
		else if(status == "R")
		{
			payment1complete();
			rejectcomplete();
		}
		else if(status == "C")
		{
			payment1complete();
			acceptcomplete();
			payment2complete();
		}
	}
	initialDisable();

   /*]]>*/
</script>
<script type="text/javascript">

</script>
</body>

</html>
